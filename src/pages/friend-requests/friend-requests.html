<ion-header>
  <ion-navbar color="gary">
    <ion-title>Friend requests</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <loading *ngIf="isLoading"></loading>
  <ion-grid *ngIf="!isLoading">
    <ion-row *ngFor="let request of requests; let index = index">
      <ion-col col-3>
        <img src="assets/imgs/1.jpg" class="friend-img" />
      </ion-col>
      <ion-col col-6 align-self-center>
        <div class="bold">{{ request.sender.name }}</div>
      </ion-col>
      <ion-col col-3 align-self-center>
        <button
          ion-button
          color="secondary"
          (click)="acceptRequest(request, index)"
          round
          block
          class="accept-btn"
        >
          <span *ngIf="!request.isActive">Accept</span>
          <ion-spinner
            name="ios-small"
            *ngIf="request.isActive"
            color="light"
          ></ion-spinner>
        </button>
      </ion-col>

      <ion-col col-12>
        <hr class="hr" />
      </ion-col>
    </ion-row>
    <not-found
      *ngIf="requests.length == 0"
      txt="No Friends request found !"
    ></not-found>
  </ion-grid>
</ion-content>
